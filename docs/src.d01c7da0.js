parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"paDP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=[{id:1,content:"Make things happen",completed:!1},{id:2,content:"Make a to-do list",completed:!0},{id:3,content:"Buy a unicorn",completed:!1}];exports.default=e;
},{}],"IIqW":[function(require,module,exports) {

},{}],"QXMt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DB=void 0;var o={setTodos:function(o){localStorage.todos||(localStorage.todos=JSON.stringify(o))},findAll:function(){return JSON.parse(localStorage.todos)},insertOne:function(o){var t=JSON.parse(localStorage.todos);t.push(o),localStorage.todos=JSON.stringify(t)},updateOne:function(o){var t=JSON.parse(localStorage.todos);t.forEach(function(t){t.id===o.id&&(t.completed!==o.completed&&(t.completed=o.completed),t.content!==o.content&&(t.content=o.content))}),localStorage.todos=JSON.stringify(t)},deleteOne:function(o){var t=JSON.parse(localStorage.todos);t=t.filter(function(t){return t.id!==o}),localStorage.todos=JSON.stringify(t)}};exports.DB=o;
},{}],"YUIm":[function(require,module,exports) {
"use strict";function e(e){return"\n    \x3c!-- List items should get the class 'editing' when editing and 'completed' when marked as completed --\x3e\n    <li data-id=\"".concat(e.id,'" ').concat(e.completed?"class='completed'":"",'>\n      <div class="view">\n        <input \n          class="toggle" \n          type="checkbox" \n          ').concat(e.completed?"checked='checked'":""," \n        />\n        <label>\n          ").concat(e.content.replace(/</g,"&lt;").replace(/>/g,"&gt;"),'\n        </label>\n        <button class="destroy"></button>\n      </div>\n      <input class="edit" value="Edit this todo" />\n    </li>\n  ')}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTodoTemplate=e;
},{}],"mND3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Todo=void 0;var t=require("./todoTemplate"),e=require("../../services/DB");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}var l=function(){function n(t){i(this,n),this.parent=t.parent,this.el=null,this.toggleBtn=null,this.contentEl=null,this.editEl=null,this.id=t.todo.id,this.content=t.todo.content,this.completed=t.todo.completed}return o(n,[{key:"render",value:function(){var e=document.createElement("div");this.parent.todoListEl.append(e),e.outerHTML=(0,t.getTodoTemplate)(this),this.catchEl(),this.activateEl()}},{key:"catchEl",value:function(){this.el=this.parent.todoListEl.querySelector("[data-id='".concat(this.id,"']")),this.toggleBtn=this.el.querySelector(".toggle"),this.contentEl=this.el.querySelector("label"),this.editEl=this.el.querySelector(".edit")}},{key:"activateEl",value:function(){var t=this;this.toggleBtn.onclick=function(){t.toggleCompleted()},this.el.querySelector(".destroy").onclick=function(){t.delete()},this.contentEl.ondblclick=function(){t.editContent()}}},{key:"toggleCompleted",value:function(){this.completed=!this.completed,e.DB.updateOne(this),this.el.classList.toggle("completed"),this.toggleBtn.checked=!!this.completed,this.completed?this.toggleBtn.setAttribute("checked","checked"):this.toggleBtn.removeAttribute("checked"),this.parent.isHiddenBtn(),this.parent.setUncompletedCount()}},{key:"delete",value:function(){var t=this;this.el.remove(),e.DB.deleteOne(this.id),this.parent.todos=this.parent.todos.filter(function(e){return e!==t}),this.parent.isHiddenSection(),this.parent.isHiddenBtn(),this.parent.setUncompletedCount()}},{key:"editContent",value:function(){var t=this;this.editEl.value=this.content,this.el.classList.add("editing"),this.editEl.focus(),this.editEl.onblur=function(){t.updateContent()},this.editEl.onkeyup=function(e){"Enter"===e.key&&t.updateContent()}}},{key:"updateContent",value:function(){this.content=this.editEl.value,e.DB.updateOne(this),this.contentEl.innerText=this.content,this.el.classList.remove("editing")}}]),n}();exports.Todo=l;
},{"./todoTemplate":"YUIm","../../services/DB":"QXMt"}],"DPFu":[function(require,module,exports) {
"use strict";function e(){return'\n  <section class="todoapp">\n    <header class="header">\n      <h1>todos</h1>\n      <input\n        class="new-todo"\n        placeholder="What needs to be done?"\n        autofocus\n      />\n    </header>\n    \x3c!-- This section should be hidden by default and shown when there are todos --\x3e\n    <section class="main">\n      <input id="toggle-all" class="toggle-all" type="checkbox" />\n      <label for="toggle-all" title="Mark all as complete">Mark all as complete</label>\n      <ul class="todo-list">\n      </ul>\n    </section>\n    \x3c!-- This footer should be hidden by default and shown when there are todos --\x3e\n    <footer class="footer">\n      \x3c!-- This should be \'0 items left\' by default --\x3e\n      <span class="todo-count"><strong>0</strong> item left</span>\n      \x3c!-- Remove this if you don\'t implement routing --\x3e\n      <ul class="filters">\n        <li>\n          <a class="selected" href="#/">All</a>\n        </li>\n        <li>\n          <a href="#/active">Active</a>\n        </li>\n        <li>\n          <a href="#/completed">Completed</a>\n        </li>\n      </ul>\n      \x3c!-- Hidden if no completed items are left ↓ --\x3e\n      <button class="clear-completed">Clear completed</button>\n    </footer>\n  </section>\n  <footer class="info">\n    <p>Double-click to edit a todo</p>\n    \x3c!-- Change this out with your name and url ↓ --\x3e\n    <p>Created by <a href="https://github.com/sabine-xuaitsep">SaBiNeXuaiTseP</a></p>\n    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n  </footer>\n  '}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTodoListTemplate=e;
},{}],"OaDu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TodoList=void 0,require("./todoList.css");var e=require("../../services/DB"),t=require("../Todo/Todo"),o=require("./todoListTemplate");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var o=0;o<t.length;o++){var l=t[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function i(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}var s=function(){function n(t){l(this,n),e.DB.setTodos(t.todos),this.el=document.querySelector(t.el),this.todoListEl=null,this.newTodoEl=null,this.clearCompletedBtn=null,this.filterLinks=null,this.selectedFilter=null,this.todos=[],this.loadTodos()}return i(n,[{key:"loadTodos",value:function(){var o=this;e.DB.findAll().forEach(function(e){o.todos.push(new t.Todo({parent:o,todo:e}))}),this.render()}},{key:"render",value:function(){this.el.innerHTML=(0,o.getTodoListTemplate)(),this.catchEl(),this.todos.forEach(function(e){e.render()}),this.isHiddenSection(),this.isHiddenBtn(),this.setUncompletedCount(),this.activateEl()}},{key:"catchEl",value:function(){this.todoListEl=this.el.querySelector(".todo-list"),this.newTodoEl=this.el.querySelector(".new-todo"),this.clearCompletedBtn=this.el.querySelector(".clear-completed"),this.filterLinks=this.el.querySelectorAll(".filters li a")}},{key:"activateEl",value:function(){var e=this;this.newTodoEl.onkeyup=function(t){"Enter"===t.key&&""!==e.newTodoEl.value&&e.addOne()},this.clearCompletedBtn.onclick=function(){e.deleteCompleted()},this.el.querySelector(".toggle-all").onclick=function(){e.completeAll()},this.filterLinks.forEach(function(t){t.onclick=function(o){o.preventDefault(),e.filter(t)}})}},{key:"isHiddenSection",value:function(){this.el.querySelector(".main").style.display=0===this.todos.length?"none":"block",this.el.querySelector(".footer").style.display=0===this.todos.length?"none":"block"}},{key:"isHiddenBtn",value:function(){this.clearCompletedBtn.style.display=this.todos.some(function(e){return e.completed})?"block":"none"}},{key:"setUncompletedCount",value:function(){var e=this.todos.filter(function(e){return!e.completed}).length;this.el.querySelector(".todo-count").innerHTML="\n      <strong>".concat(e,"</strong> \n      item").concat(1!==e?"s":""," left\n      ")}},{key:"addOne",value:function(){var o={id:0===this.todos.length?1:this.todos.at(-1).id+1,content:this.newTodoEl.value,completed:!1};e.DB.insertOne(o);var l=new t.Todo({parent:this,todo:o});this.todos.push(l),l.render(),this.newTodoEl.value="",this.isHiddenSection(),this.setUncompletedCount()}},{key:"deleteCompleted",value:function(){this.todos.forEach(function(e){e.completed&&e.delete()})}},{key:"completeAll",value:function(){this.todos.forEach(function(e){e.completed||e.toggleCompleted()})}},{key:"filter",value:function(e){var t=this;this.selectedFilter=e.href.split("#/")[1],this.todos.forEach(function(e){switch(t.selectedFilter){case"active":e.el.style.display=e.completed?"none":"block";break;case"completed":e.el.style.display=e.completed?"block":"none";break;default:e.el.style.display="block"}}),this.filterLinks.forEach(function(t){t===e?t.classList.add("selected"):t.classList.remove("selected")})}}]),n}();exports.TodoList=s;
},{"./todoList.css":"IIqW","../../services/DB":"QXMt","../Todo/Todo":"mND3","./todoListTemplate":"DPFu"}],"Focm":[function(require,module,exports) {
"use strict";var e=t(require("./data")),o=require("./components/TodoList/TodoList");function t(e){return e&&e.__esModule?e:{default:e}}new o.TodoList({el:"#app",todos:e.default});
},{"./data":"paDP","./components/TodoList/TodoList":"OaDu"}]},{},["Focm"], null)
//# sourceMappingURL=src.d01c7da0.js.map